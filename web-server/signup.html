<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
</head>
<body>
    <div class="container">
        <h2>회원가입</h2>
        <form id="signupForm" method="post" action="/signup">
            <div class="form-group">
                <label for="id">아이디:</label>
                <input type="text" id="id" name="id" required>
            </div>
            <div class="form-group">
                <label for="id">이름:</label>
                <input type="text" id="userRealname" name="userRealname" required>
            </div>
            <div class="form-group">
                <label for="id">닉네임:</label>
                <input type="text" id="username" name="username" required>
            </div>            
            <div class="form-group">
                <label for="password">비밀번호:</label>
                <input type="password" id="userpasswd" name="userpasswd" required>
            </div>
            <div class="form-group">
                <label for="confirm_password">비밀번호 확인:</label>
                <input type="password" id="confirm_password" name="confirm_password" required>
            </div>
            <div class="form-group">
                <label for="email">이메일:</label>
                <input type="email" id="useremail" name="useremail" required>
            </div>
            <div class="form-group">
                <label for="mac_address">MAC 주소:</label>
                <input type="text" id="userMac" name="userMac" required>
            </div>
            <button type="submit">가입</button>
        </form>
    </div>
    <script>
    document.getElementById("signupForm").addEventListener("submit", function(event) {
        event.preventDefault(); // 기본 제출 동작 방지

        // 폼 데이터 가져오기
        const formData = new FormData(document.getElementById("signupForm"));

        // 서버로 데이터 전송
        fetch('/signup', {
            method: 'POST',
            body: formData
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('서버 응답 실패');
            }
            return response.text(); // 서버 응답 내용을 텍스트로 변환
        })
        .then(data => {
            console.log(data); // 서버 응답 출력
            alert(data); // 경고창 표시 또는 다른 동작 수행
        })
        .catch(error => {
            console.error('오류:', error);
            alert('회원가입 중 오류가 발생했습니다.');
        });
    });
</script>
</body>
</html>

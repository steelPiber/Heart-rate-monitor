const express = require("express");
const bodyParser = require("body-parser");
const cors = require("cors");

const app = express();
const PORT = 13389;

app.use(cors());
app.use(bodyParser.json());

app.post("/data", (req, res) => {
  console.log("Received request body:", req.body); // 요청 본문 전체를 출력하여 디버그
  const { bpm, tag, timestamp, email } = req.body;
  console.log(
    `Received data - BPM: ${bpm}, Tag: ${tag}, Timestamp: ${timestamp}, Email: ${email}`,
  );
  res.sendStatus(200);
});

app.listen(PORT, () => {
  console.log(`Server is running on http://202.31.243.44:${PORT}`);
});
